!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=14)}([function(t,e,n){"use strict";t.exports=function(t){return t=t.indexOf("$")>-1?t.replace(/\$/g,"scope.$"):"scope."+t,new Function("scope","return "+t)}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=e.BaseDirective=function(){function t(e,n){if(r(this,t),!n)throw new Error("This directive doesn't have a name");this._glue=e,this._config=e.config,this._scope=e.scope,this._expandoId="__id-"+Date.now()+Math.floor(1024*Math.random())+Math.floor(1024*Math.random())+Math.floor(1024*Math.random()),this._directiveAttr=this._config.namespace+"-"+n}return o(t,[{key:"expandoId",get:function(){return this._expandoId}},{key:"directiveAttribute",get:function(){return this._directiveAttr}}]),o(t,[{key:"init",value:function(t){var e=this;this._glue.subscribe(function(t){return e.update(t)})}},{key:"update",value:function(){throw new Error("Unimplemented!")}}]),t}();i.directive="BaseDirective",i.getInstance=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new i(t)}},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function t(){function e(t){return t instanceof Array}function n(t){return"object"==(void 0===t?"undefined":r(t))&&t.constructor==Object}var o,i,u,c,a,f,s=arguments[0]||{},l=1,p=arguments.length,h=!1;for("boolean"==typeof s&&(h=s,s=arguments[l]||{},l++),"object"===(void 0===s?"undefined":r(s))||function(t){return"function"==typeof t&&t.constructor===Function}(s)||(s={}),l===p&&(s=this,l--);l<p;l++)if(null!=(o=arguments[l]))for(i in o)u=s[i],c=o[i],s!==c&&(h&&c&&(n(c)||(a=e(c)))?(a?f=u&&n(u)?u:{}:(a=!1,f=u&&e(u)?u:[]),s[i]=t(h,f,c)):void 0!==c&&(s[i]=c));return s};t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return new Function("ctx","newVal","done","\n    ctx."+t+" = newVal;\n    done();\n   ")}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t){this[t.directive]||(this[t.directive]=t.getInstance(this),this[t.directive].init(this))}Object.defineProperty(e,"__esModule",{value:!0}),e.TwoWays=void 0;var c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(13),f=(o(a),n(10)),s=o(f),l=n(2),p=r(l),h=n(12),d=r(h),v=n(11),y=r(v),b=n(0),g=r(b),_=n(7),m=r(_);e.TwoWays=function(){function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(this,t),!(0,d.default)(r).pojo())throw new Error("Config musts be a plain JS object");this._scope={},this._config=(0,p.default)(this.defaults,r||{}),this._lastSum=(0,y.default)(this._scope),m.default.forEach(function(t){return u.call(n,t)}),this._watchHandle=requestAnimationFrame(function(){return n.watchForChanges()}),this._scope=e}return c(t,[{key:"defaults",get:function(){return s}},{key:"scope",get:function(){return this._scope}},{key:"config",get:function(){return(0,p.default)(!0,{},this._config)}}]),c(t,[{key:"watchForChanges",value:function(){var t=this,e=(0,y.default)(this._scope);e!==this._lastSum&&this.notifyChanged(),this._lastSum=e,this._watchHandle=requestAnimationFrame(function(){return t.watchForChanges()})}},{key:"notifyChanged",value:function(){var t=this;(0,y.default)(this._scope)!==this._lastSum&&this._config.subscribers.forEach(function(e){return e(t._scope)})}},{key:"subscribe",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t;e&&(n=function(n){return t((0,g.default)(e)(n))}),this._config.subscribers.push(n)}}]),t}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e,n,r,o){var i=a(e).cloneNode();i[this.expandoId]={$item:n,$pos:r,$all:o},t.appendChild(i)}function a(t){var e=!0,n=!1,r=void 0;try{for(var o,i=t.childNodes[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var u=o.value;if(u instanceof HTMLElement)return u}}catch(t){n=!0,r=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}return null}var f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(1),l=n(0),p=r(l),h=n(3),d=(r(h),function(t){function e(t){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"each"))}return u(e,t),f(e,[{key:"update",value:function(t){var e=this;[].slice.call(document.querySelectorAll("["+this.directiveAttribute+"]")).forEach(function(t){var n=t.getAttribute(e.directiveAttribute),r=(0,p.default)(n)(e._glue.scope),o=document.createDocumentFragment();r.forEach(function(n,r,i){c.call(e,o,t,n,r,i)});t.parentNode.replaceChild(o,t)})}}]),e}(s.BaseDirective));d.directive="EachDirective",d.getInstance=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new d(t)},t.exports=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(){var t=this;[].slice.call(document.querySelectorAll("["+this.directiveAttribute+"]")).filter(function(e){return!e[t.expandoId]}).map(function(e){var n=a.call(t,e.getAttribute(t.directiveAttribute));return e[t.expandoId]=n.map(function(n){return{evt:n[0],handler:(0,h.default)(n[1])(t._glue.scope),node:e}})}).forEach(function(e){e.forEach(function(e){return e.node.addEventListener(e.evt,function(n){e.handler.call(t._glue.scope,n),t._glue.notifyChanged()})})}),this._raf=requestAnimationFrame(function(){return c.call(t)})}function a(t){return t.split(";").map(function(t){return t.split(/:[\s]?/g)}).map(function(t){return t.map(function(t){return String(t).trim()})})}var f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function t(e,n,r){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,n);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,r)}if("value"in o)return o.value;var u=o.get;if(void 0!==u)return u.call(r)},l=n(1),p=n(0),h=r(p),d=n(2),v=(r(d),function(t){function e(t){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"on"))}return u(e,t),f(e,[{key:"init",value:function(t){var n=this;s(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this,t),this._raf=requestAnimationFrame(function(){return c.call(n)})}},{key:"update",value:function(t){return this}}]),e}(l.BaseDirective));v.directive="EventsDirective",v.getInstance=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new v(t)},t.exports=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(8),i=r(o),u=n(9),c=r(u),a=n(5),f=r(a),s=n(6),l=r(s);t.exports=[f.default,i.default,c.default,l.default]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){var n=t(this._glue.scope);n!=e[this.expandoId].prevVal&&(e[this.expandoId].prevVal=n,e.innerHTML=n)}function a(t,e){var n=t(e[this._glue.EachDirective.expandoId]);n!=e[this.expandoId].prevVal&&(e[this.expandoId].prevVal=n,e.innerHTML=n)}function f(t){return t[this._glue.EachDirective.expandoId]}var s=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=n(1),p=n(0),h=r(p),d=n(2);r(d);console.log(l.BaseDirective);var v=function(t){function e(t){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"text"))}return u(e,t),s(e,[{key:"update",value:function(t){var e=this;[].slice.call(document.querySelectorAll("["+this.directiveAttribute+"]")).forEach(function(t){t[e.expandoId]=t[e.expandoId]||{onEachBlock:null,prevVal:null};var n=(0,h.default)(t.getAttribute(e.directiveAttribute));return f.call(e,t)?a.call(e,n,t):c.call(e,n,t)})}}]),e}(l.BaseDirective);v.directive="TextDirective",v.getInstance=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new v(t)},t.exports=v},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t){var e=this,n=t.getAttribute(this.directiveAttribute),r=(0,p.default)(n)(this._glue.scope);if(t[this.expandoId]=t[this.expandoId]||{raf:-1,onEach:!1},t.value!=r&&(t.value=r),t[this.expandoId].raf<0){var o=function(r){return(0,d.default)(n)(e._glue.scope,["number","range"].indexOf(t.type)>-1?parseInt(t.value,10):t.value,function(){return e._glue.notifyChanged()})};a(this.expandoId,t,o)}}function a(t,e,n){if(e){var r=String(e.value),o=function o(){e&&(r!=String(e.value)&&(n(e.value),r=String(e.value)),e[t].raf=requestAnimationFrame(o))};e[t].raf=requestAnimationFrame(o)}}var f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(1),l=n(0),p=r(l),h=n(3),d=r(h),v=function(t){function e(t){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,"value"))}return u(e,t),f(e,[{key:"update",value:function(t){var e=this;this._glue.EachDirective.directiveAttribute,[].slice.call(document.querySelectorAll("["+this.directiveAttribute+"]")).forEach(function(t){return c.call(e,t)})}}]),e}(s.BaseDirective);v.directive="ValueDirective",v.getInstance=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new v(t)},t.exports=v},function(t,e,n){"use strict";var r={namespace:"g",subscribers:[]};t.exports=r},function(t,e,n){"use strict";t.exports=function(t){for(var e=JSON.stringify(t,function(e,n){return e&&n===t?null:n instanceof RegExp?n.toString():n instanceof Function?n.toString():n}),n=5381,r=e.length;r;)n=33*n^e.charCodeAt(--r);return(n>>>0).toString(32)}},function(t,e,n){"use strict";t.exports=function(t){var e=function(){return void 0===t};return{undef:e,pojo:function(){return!e()&&t.constructor===Object},array:function(){return!e()&&t instanceof Array}}}},function(t,e,n){"use strict";[].map||(Array.prototype.map=function(t){for(var e=[],n=0,r=this.length;n<r;n++)e[n]=t(this[n],n,this);return e}),[].forEach||(Array.prototype.forEach=function(t){this.map(t)}),[].filter||(Array.prototype.filter=function(t){var e=[];return this.forEach(function(n,r,o){t(n,r,o)&&e.push(n)}),e}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)e.push(n);return e}),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(){Object.keys=function(t){var e=[];for(var n in t)e.push(n);return e}}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")})},function(t,e,n){"use strict";var r=n(4);t.exports=window.TwoWays=r.TwoWays}]);